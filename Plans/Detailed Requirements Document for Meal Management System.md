# 餐食管理系统需求文档

## 1. 项目背景
餐食管理系统旨在为月子中心提供高效的餐食管理解决方案，覆盖客户信息管理、菜品管理、排餐体系、风险管理、日志管理等功能。系统需支持手动排餐与智能化排餐的结合，逐步实现AI推荐算法的自动化排餐功能，同时确保系统的安全性、扩展性和用户友好性。

---

## 2. 系统功能需求

### 2.1 客户信息管理模块
- **功能描述**：
  - 支持录入客户基本信息（姓名、年龄、性别、生产日期、入住日期等）。
  - 记录客户的个性化需求（如饮食禁忌、文化禁忌、过敏信息等）。
  - 自动计算客户的产后周期，并根据周期调整排餐方案。
  - 支持客户信息的增删改查操作。
- **前瞻性**：
  - 支持未来通过客户数据分析，优化排餐方案。

---

### 2.2 菜品管理模块
- **功能描述**：
  - 支持录入和管理菜品信息，包括菜品名称、分类（汤品、点心、肉菜等）、食材信息、禁忌食材等。
  - 提供菜品的成本核算功能，记录每道菜的制作成本。
  - 支持菜品信息的增删改查操作。
  - 提供菜品分类管理功能，便于快速查找和筛选。
- **前瞻性**：
  - 支持未来通过数据分析优化菜品组合，提升客户满意度。

---

### 2.3 排餐管理模块
- **功能描述**：
  - 根据客户的产后周期、饮食禁忌和个性化需求，生成每日餐单。
  - 支持手动调整餐单，并在调整时提供禁忌警示功能。
  - 提供菜品合并功能，优化食材使用成本。
  - 支持导出个人餐单、每日餐单、以及客户一个月的餐单。
- **前瞻性**：
  - 支持未来通过AI算法实现智能化排餐。

---

### 2.4 风险管理模块
- **功能描述**：
  - 提供食材过期警示功能，确保食品安全。
  - 记录并分析风险事件（如食材过敏、食品安全问题等）。
  - 提供风险事件的统计报表，帮助管理员及时采取措施。
- **前瞻性**：
  - 支持通过数据分析预测潜在风险，提高系统的安全性。

---

### 2.5 日志管理模块
- **功能描述**：
  - 记录系统操作日志，包括用户登录、操作记录、异常情况等。
  - 提供日志查询和导出功能，便于问题排查和系统维护。
- **前瞻性**：
  - 支持通过日志分析优化系统性能。

---

### 2.6 定额系统
- **功能描述**：
  - 记录每道菜的食材用量和成本。
  - 支持根据客户数量自动计算食材需求，生成采购清单。
  - 提供成本核算功能，便于管理者掌握收益情况。
- **前瞻性**：
  - 支持通过数据分析优化采购流程，降低运营成本。

---

## 3. 非功能需求

### 3.1 前瞻性
- 系统需支持未来的AI和机器学习模块集成，以提升智能化排餐功能。
- 支持模块化设计，便于后续功能扩展。

### 3.2 先进性
- 使用最新的Web和数据库技术，确保系统性能和用户体验。

### 3.3 安全性
- 数据存储和传输需符合GDPR等数据保护法规。
- 提供权限控制功能，确保数据安全。

### 3.4 扩展性
- 系统需支持多语言、多角色、多终端访问。
- 提供API接口，便于与其他系统集成。

---

## 4. 数据库设计

### 4.1 客户信息表
- **表名**：`customers`
  - `id`：客户编号（主键）
  - `name`：姓名
  - `age`：年龄
  - `gender`：性别
  - `delivery_date`：生产日期
  - `check_in_date`：入住日期
  - `dietary_restrictions`：禁忌信息（JSON格式）
  - `notes`：备注信息

### 4.2 菜品表
- **表名**：`menu_items`
  - `id`：菜品编号（主键）
  - `name`：菜品名称
  - `category`：菜品分类（汤品、点心、肉菜等）
  - `ingredients`：食材信息（JSON格式）
  - `forbidden_ingredients`：禁忌食材（JSON格式）
  - `cost`：成本
  - `price`：售价

### 4.3 排餐表
- **表名**：`meal_plans`
  - `id`：排餐编号（主键）
  - `customer_id`：客户编号（外键）
  - `menu_item_id`：菜品编号（外键）
  - `date`：排餐日期
  - `meal_time`：餐次（早餐、午餐、晚餐等）
  - `quantity`：数量

### 4.4 食材表
- **表名**：`ingredients`
  - `id`：食材编号（主键）
  - `name`：食材名称
  - `purchase_date`：购买时间
  - `unit_price`：单价
  - `quantity`：数量
  - `expiry_date`：保质期

---

## 5. 系统架构设计
- **前端**：使用React或Vue.js框架，提供用户友好的界面。
- **后端**：使用Node.js或Python（Django/Flask）开发，提供高效的服务。
- **数据库**：使用MySQL或PostgreSQL，确保数据存储的可靠性。
- **部署**：采用Docker容器化部署，提升系统的可移植性和扩展性。

---

## 6. 用户角色与权限
- **管理员**：全面管理系统，包括客户信息、菜品信息、排餐等。
- **营养师**：负责手动排餐和调整餐单。
- **厨师**：查看每日餐单，管理食材库存。

---

## 7. 未来扩展计划
- 集成AI算法，实现智能化排餐。
- 提供多语言支持，拓展国际市场。
- 开发移动端应用，提升用户体验。

---

## 8. 总结
本系统旨在通过高效的餐食管理解决方案，提升月子中心的运营效率和客户满意度。系统设计注重前瞻性、先进性、安全性和扩展性，为未来的智能化发展奠定基础。